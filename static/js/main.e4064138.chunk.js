(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var r=a(0),i=a(2),o=a(3),s=a(4),n=a(6),l=a(5),c=a(7),d=function(e){var t=[];return e.field.forEach(function(e,a){var i=e.map(function(e,t){return r.createElement("div",{className:"col-".concat(e),key:t})});t.push(r.createElement("div",{className:"tetris-board__row",key:a},i))}),r.createElement("div",{className:"tetris-board"},r.createElement("div",{className:"tetris-board__info"},r.createElement("p",{className:"tetris-board__text"},"Level: ",e.level),r.createElement("p",{className:"tetris-board__text"},"Score: ",e.score),e.gameOver&&r.createElement("p",{className:"tetris-board__text"},r.createElement("strong",null,"Game Over"))),r.createElement("div",{className:"tetris-board__board"},t))},h=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(n.a)(this,Object(l.a)(t).call(this,e))).handlePauseClick=function(){a.setState(function(e){return{isPaused:!e.isPaused}})},a.handleNewGameClick=function(){for(var e=[],t=0;t<a.props.boardHeight;t++){for(var r=[],i=0;i<a.props.boardWidth;i++)r.push(0);e.push(r)}var o=Math.floor(parseInt(a.props.boardWidth)/2);a.setState({activeTileX:o,activeTileY:1,activeTile:2,tileRotate:0,score:0,level:1,tileCount:0,gameOver:!1,field:e})};for(var r=[],i=0;i<e.boardHeight;i++){for(var s=[],c=0;c<e.boardWidth;c++)s.push(0);r.push(s)}var d=Math.floor(parseInt(e.boardWidth)/2);return a.state={activeTileX:d,activeTileY:1,activeTile:1,tileRotate:0,score:0,level:1,tileCount:0,gameOver:!1,isPaused:!1,field:r,timerId:null,tiles:[[[[0,0],[0,0],[0,0],[0,0]],[[0,0],[0,0],[0,0],[0,0]],[[0,0],[0,0],[0,0],[0,0]],[[0,0],[0,0],[0,0],[0,0]]],[[[0,0],[1,0],[0,1],[1,1]],[[0,0],[1,0],[0,1],[1,1]],[[0,0],[1,0],[0,1],[1,1]],[[0,0],[1,0],[0,1],[1,1]]],[[[0,-1],[0,0],[0,1],[0,2]],[[-1,0],[0,0],[1,0],[2,0]],[[0,-1],[0,0],[0,1],[0,2]],[[-1,0],[0,0],[1,0],[2,0]]],[[[0,0],[-1,0],[1,0],[0,-1]],[[0,0],[1,0],[0,1],[0,-1]],[[0,0],[-1,0],[1,0],[0,1]],[[0,0],[-1,0],[0,1],[0,-1]]],[[[0,0],[-1,0],[1,0],[-1,-1]],[[0,0],[0,1],[0,-1],[1,-1]],[[0,0],[1,0],[-1,0],[1,1]],[[0,0],[0,1],[0,-1],[-1,1]]],[[[0,0],[1,0],[-1,0],[1,-1]],[[0,0],[0,1],[0,-1],[1,1]],[[0,0],[1,0],[-1,0],[-1,1]],[[0,0],[0,1],[0,-1],[-1,-1]]],[[[0,0],[1,0],[0,-1],[-1,-1]],[[0,0],[1,0],[0,1],[1,-1]],[[0,0],[1,0],[0,-1],[-1,-1]],[[0,0],[1,0],[0,1],[1,-1]]],[[[0,0],[-1,0],[0,-1],[1,-1]],[[0,0],[0,-1],[1,0],[1,1]],[[0,0],[-1,0],[0,-1],[1,-1]],[[0,0],[0,-1],[1,0],[1,1]]]]},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;e=window.setInterval(function(){return t.handleBoardUpdate("down")},1e3-(10*this.state.level>600?600:10*this.state.level)),this.setState({timerId:e})}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.state.timerId)}},{key:"handleBoardUpdate",value:function(e){var t=this;if(!this.state.gameOver&&!this.state.isPaused){var a=0,r=0,i=0,o=this.state.activeTile;"left"===e&&(a=-1),"right"===e&&(a=1),"rotate"===e&&(i=1),"down"===e&&(r=1);var s=this.state.field,n=this.state.activeTileX,l=this.state.activeTileY,c=this.state.tileRotate,d=this.state.tiles;s[l+d[o][c][0][1]][n+d[o][c][0][0]]=0,s[l+d[o][c][1][1]][n+d[o][c][1][0]]=0,s[l+d[o][c][2][1]][n+d[o][c][2][0]]=0,s[l+d[o][c][3][1]][n+d[o][c][3][0]]=0;var h=!0;if(0!==a)for(var v=0;v<=3;v++)n+a+d[o][c][v][0]>=0&&n+a+d[o][c][v][0]<this.props.boardWidth?0!==s[l+d[o][c][v][1]][n+a+d[o][c][v][0]]&&(h=!1):h=!1;h&&(n+=a);var u=c+i>3?0:c+i,m=!0;if(0!==i)for(var f=0;f<=3;f++)n+d[o][u][f][0]>=0&&n+d[o][u][f][0]<this.props.boardWidth&&l+d[o][u][f][1]>=0&&l+d[o][u][f][1]<this.props.boardHeight?0!==s[l+d[o][u][f][1]][n+d[o][u][f][0]]&&(m=!1):m=!1;m&&(c=u);var p=!0;if(0!==r)for(var b=0;b<=3;b++)l+r+d[o][c][b][1]>=0&&l+r+d[o][c][b][1]<this.props.boardHeight?0!==s[l+r+d[o][c][b][1]][n+d[o][c][b][0]]&&(p=!1):p=!1;if(p&&(l+=r),s[l+d[o][c][0][1]][n+d[o][c][0][0]]=o,s[l+d[o][c][1][1]][n+d[o][c][1][0]]=o,s[l+d[o][c][2][1]][n+d[o][c][2][0]]=o,s[l+d[o][c][3][1]][n+d[o][c][3][0]]=o,!p){for(var w=this.props.boardHeight-1;w>=0;w--){for(var g=!0,E=0;E<this.props.boardWidth;E++)0===s[w][E]&&(g=!1);if(g){for(var k=w;k>0;k--)for(var N=0;N<this.props.boardWidth;N++)s[k][N]=s[k-1][N];w=this.props.boardHeight}}var C;this.setState(function(e){return{score:e.score+1*e.level,tileCount:e.tileCount+1,level:1+Math.floor(e.tileCount/10)}}),clearInterval(this.state.timerId),C=setInterval(function(){return t.handleBoardUpdate("down")},1e3-(10*this.state.level>600?600:10*this.state.level)),this.setState({timerId:C}),o=Math.floor(7*Math.random()+1),n=parseInt(this.props.boardWidth)/2,c=0,0!==s[(l=1)+d[o][c][0][1]][n+d[o][c][0][0]]||0!==s[l+d[o][c][1][1]][n+d[o][c][1][0]]||0!==s[l+d[o][c][2][1]][n+d[o][c][2][0]]||0!==s[l+d[o][c][3][1]][n+d[o][c][3][0]]?this.setState({gameOver:!0}):(s[l+d[o][c][0][1]][n+d[o][c][0][0]]=o,s[l+d[o][c][1][1]][n+d[o][c][1][0]]=o,s[l+d[o][c][2][1]][n+d[o][c][2][0]]=o,s[l+d[o][c][3][1]][n+d[o][c][3][0]]=o)}this.setState({field:s,activeTileX:n,activeTileY:l,tileRotate:c,activeTile:o})}}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:"tetris"},r.createElement(d,{field:this.state.field,gameOver:this.state.gameOver,score:this.state.score,level:this.state.level,rotate:this.state.tileRotate}),r.createElement("div",{className:"tetris__block-controls"},r.createElement("button",{className:"btn",onClick:function(){return e.handleBoardUpdate("left")}},"Left"),r.createElement("button",{className:"btn",onClick:function(){return e.handleBoardUpdate("down")}},"Down"),r.createElement("button",{className:"btn",onClick:function(){return e.handleBoardUpdate("right")}},"Right"),r.createElement("button",{className:"btn",onClick:function(){return e.handleBoardUpdate("rotate")}},"Rotate")),r.createElement("div",{className:"tetris__game-controls"},r.createElement("button",{className:"btn",onClick:this.handleNewGameClick},"New Game"),r.createElement("button",{className:"btn",onClick:this.handlePauseClick},this.state.isPaused?"Resume":"Pause")))}}]),t}(r.Component);a(14),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.render(r.createElement(h,{boardWidth:"14",boardHeight:"20"}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,a){e.exports=a(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.e4064138.chunk.js.map